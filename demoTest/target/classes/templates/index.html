<!DOCTYPE html>
<html>
<head>
  <title>5x5 輸入框表格</title>
  <meta charset="UTF-8">
</head>
<body>
<table>
  <tr>
    <td><input type="text" id="cell1"></td>
    <td><input type="text" id="cell2"></td>
    <td><input type="text" id="cell3"></td>
    <td><input type="text" id="cell4"></td>
    <td><input type="text" id="cell5"></td>
  </tr>
  <tr>
    <td><input type="text" id="cell6"></td>
    <td><input type="text" id="cell7"></td>
    <td><input type="text" id="cell8"></td>
    <td><input type="text" id="cell9"></td>
    <td><input type="text" id="cell10"></td>
  </tr>
  <tr>
    <td><input type="text" id="cell11"></td>
    <td><input type="text" id="cell12"></td>
    <td><input type="text" id="cell13"></td>
    <td><input type="text" id="cell14"></td>
    <td><input type="text" id="cell15"></td>
  </tr>
  <tr>
    <td><input type="text" id="cell16"></td>
    <td><input type="text" id="cell17"></td>
    <td><input type="text" id="cell18"></td>
    <td><input type="text" id="cell19"></td>
    <td><input type="text" id="cell20"></td>
  </tr>
  <tr>
    <td><input type="text" id="cell21"></td>
    <td><input type="text" id="cell22"></td>
    <td><input type="text" id="cell23"></td>
    <td><input type="text" id="cell24"></td>
    <td><input type="text" id="cell25"></td>
  </tr>
</table>
<button type="submit" id="submit">送出</button>
</body>
<script>
  let cells = Array.from(document.querySelectorAll("input[type='text']"));
  let values = cells.map((cell) => cell.value);

  // 檢查值是否是陣列
  if (!Array.isArray(values)) {
    // 值不是陣列
    throw new Error("值不是陣列");
  }

  // 檢查 JSON 資料是否符合 JSON 格式
  if (!values.every((value) => JSON.stringify(value).includes(","))) {
    // 資料不符合 JSON 格式
    throw new Error("資料不符合 JSON 格式");
  }

  // 將資料轉換成 JSON 物件
  let data = {
    cells: values,
  };

  // 建立一個 XMLHttpRequest 物件
  let xhr = new XMLHttpRequest();

  // 設定請求方法、請求路徑、和請求標頭
  xhr.open("POST", "/api/submit");
  xhr.setRequestHeader("Content-Type", "application/json");

  // 將資料設定到請求中
  xhr.send(JSON.stringify(data));

  // 處理響應
  xhr.onload = function() {
    if (xhr.status === 200) {
      // 成功
      let response = JSON.parse(xhr.responseText);
      console.log(response);
    } else {
      // 失敗
      let response = JSON.parse(xhr.responseText);
      console.log(response);
    }
  };
</script>
</html>
